# 开发规范

## 命名规则

组件名称规则：_An_+_特性+组件类型_

大驼峰式命名法（upper camel case），每一个单字的首字母都采用大写字母。

例如：_AnSingleBar_(单柱图)、_AnStackBar_(堆积柱图)、_AnGradualMutiBar_(渐变多柱图)、_AnBaseTable_(基础表格)、_AnTopTable_(排名表格)等。

## 数据格式

#### 坐标轴图表

包含的组件类型有：折线图、柱图、象形图、散点图等。

```json {3-5}
[
  {
    "x": "星期一",
    "y": "400",
    "s": "系列一"
  },
  {
    "x": "星期二",
    "y": "180",
    "s": "系列一"
  },
  {
    "x": "星期三",
    "y": "200",
    "s": "系列一"
  },
  {
    "x": "星期四",
    "y": "100",
    "s": "系列一"
  }
]
```

| 参数 | 说明                                   |
| ---- | -------------------------------------- |
| x    | x 轴的值，即组件的类目值               |
| y    | y 轴的值，即每个柱子(折线、点)的具体值 |
| z    | （可选）z 轴的值，混合图表可以使用该轴 |
| s    | 对应系列命名                           |

#### 非坐标轴图表

包含的组件类型有：饼图、日历图、矩形形、水球图、仪表盘、词云、雷达图、气泡图、树形图等。

```json {3-4}
[
  {
    "name": "新浪微博",
    "value": 25
  },
  {
    "name": "微信公众号",
    "value": 38
  },
  {
    "name": "新华网",
    "value": 43
  },
  {
    "name": "人民网",
    "value": 65
  }
]
```

有些特殊情况，可以灵活扩展数据属性，比如雷达图添加属性 max、s，树形图添加属性 children。

```json {3-6}
[
  {
    "name": "销售",
    "value": 4300,
    "max": 6500,
    "s": "预算分配"
  },
  {
    "name": "销售",
    "value": 4300,
    "max": 6500,
    "s": "实际开销"
  }
]
```

```json
{
  "name": "a",
  "children": [
    {
      "name": "a-a",
      "children": [
        {
          "name": "a-a-a",
          "value": 353
        }
      ]
    },
    {
      "name": "a-b",
      "children": [
        {
          "name": "a-b-a",
          "value": 17010
        }
      ]
    }
  ]
}
```

| 参数  | 说明                                   |
| ----- | -------------------------------------- |
| name  | 组件的类目值                           |
| value | 组件具体数值                           |
| attr  | 扩展属性（可根据实际情况扩展多个属性） |

#### 其它类型组件

数据类型可以是对象或数字，字段命名尽量采用 name、value 的形式，可以根据实际情况去扩展、修改属性。

## 属性/方法

组件视图文件中（组件文件夹下的 _index.vue_ 文件）包含一些通用的属性、方法，具体如下：

### Props

#### data

- 类型：any
- 默认值：_undefined_
- 详细：data 可以是数字、字符串、数组或对象任意数据类型，用于接收传递给组件的数据。

#### option

- 类型：Object
- 详细：组件配置信息，通过配置信息来呈现组件效果，对应 config.js 中的 option。开发人员可以根据需要 watch 配置信息中某些属性的变化，动态渲染组件。

#### theme

- 类型：Object
- 默认值：

```js
{
    name: "科技蓝",
    color: "#115FEA",
    background: "#05255F",
    pageBackground: "#03091A",
    text: "#F0F0F0",
    groups: ["#115FEA", "#10EBE3", "#10A9EB", "#EB9C10", "#2E10EB", "#9B10EB"],
  }
```

- 详细：主题描述，组件开发时尽量使用主题描述中的色值。当主题更换时，会触发 _themeChange_ 函数。

#### width

- 类型：Number
- 默认值：_420_
- 详细：视图容器的宽度。

#### height

- 类型：Number
- 默认值：_236_
- 详细：视图容器的高度。

#### autoInit

- 类型：Boolean
- 默认值：_true_
- 详细：组件是否默认执行 _init_ 函数。<BR/>
  _true_：组件默认执行 _init_ 函数。<BR/>
  _false_：组件默认不执行 _init_ 函数。一般需要控制整个大屏动画线，才考虑设置为 _false_，由组件使用人员手动调用 _init_ 函数。

#### esOption

- 类型：Object
- 详细：组件扩展配置信息，可以通过此属性传递第三方插件支持option不包含的属性。【预留属性】


### Methods

#### init

- 类型：Function
- 详细：组件初始化方法，组件开发时在视图文件中**不需要手动调用此方法**。

#### reload

- 类型：Function
- 详细：重新加载组件，会执行动画线。

#### refresh

- 类型：Function
- 详细：刷新组件，保留之前的缓存内容，组件之前的配置不会清除，没加载上来的配置继续加载。<br/>一般用于修改数据，不会执行动画线

#### resize

- 类型：Function
- 详细：容器大小改变，组件执行的操作，一般用于图表类组件。

#### reverse

- 类型：Function
- 详细：控制动画反向播放。【预留函数】

#### themeChange

- 类型：Function
- 详细：主题改变，组件执行的函数。

#### on

- 类型：Function
- 参数：  
  @param {String} eventName 事件名称<br/>
  @param {*} params 参数
- 详细：绑定事件处理函数。

#### off

- 类型：Function
- 参数：  
  @param {String} eventName 事件名称
- 详细：解绑事件处理函数。

#### setConfigOption

- 类型：Function
- 参数：  
   @param {String} key 键名称，多级嵌套对象属性值的修改，使用点拼接的字符串，eg：_obj1.obj2.name_<br/>
   @param {*} value 值
- 详细：组件视图文件中修改配置信息(_option_)，组件中一般都不需要修改配置信息。【预留函数】

#### destroy

- 类型：Function
- 详细：组件销毁之前调用。（也可以使用 VUE 本身的钩子函数）
